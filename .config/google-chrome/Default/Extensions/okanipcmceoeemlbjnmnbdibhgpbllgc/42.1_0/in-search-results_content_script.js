(function(){ /*
 Copyright 2010 Google Inc.  All Rights Reserved.
 Your use of this software is subject to the Terms of Service located
 at https://chrome.google.com/extensions/intl/en/gallery_tos.html.
*/
var isrcs_a=/https?:\/\/(?:.+\.)?google\.[a-z]{2,3}(?:\.[a-z]{2})?(?:\:[0-9]+)?\/(?:advanced_)?search.*(([?&]q=)([^&]+))/,isrcs_b=/https?:\/\/(?:.+\.)?google\.[a-z]{2,3}(?:\.[a-z]{2})?(?:\:[0-9]+)?\/(?:webhp[^#]*)?(#((?:.+&)?q=)([^&]+)(.*)&fp=[^&]+)/;var isrcs_=function(b,c,a){this.query=c;this.ei=a;this.tidbits=[];this.htmlTidbits=[];this.debug=this.ved=this.href=null};isrcs_.prototype.toString=function(){return"{"+this.href+" ["+this.tidbits.length+" tidbits]}"};var isrcs_c=function(b){return(b=b.match(isrcs_a)||b.match(isrcs_b))?decodeURIComponent(b[3].replace(/\+/g," ")):null},isrcs_d=/kEI\:"([^"]+)"/;var isrcs_g=function(b){var c=document,a=document.location.href,e=jQuery(c).find("#res");if(0==e.length)return[];var f=isrcs_e(c,a),d=[];e.find(".g").each(function(a,c){d.push(isrcs_f(c,f,b))});return d},isrcs_e=function(b,c){var a=jQuery(b).find("#sflas").get(0);return a?isrcs_c(a.href):isrcs_c(c)},isrcs_f=function(b,c,a){c=new isrcs_(0,c,a);a=jQuery(b).find("h3.r > a");if(0<a.length){var e=a.get(0).href,f=e.match(isrcs_h)||e.match(isrcs_i);c.href=f?decodeURIComponent(f[1]):e;a=a.get(0);var d;a=
a.getAttribute("onmousedown")&&(d=a.getAttribute("onmousedown").match(isrcs_j))?d[1]:(d=a.href.match(isrcs_k))?d[1]:null;c.ved=a}isrcs_l(b,c);return c},isrcs_h=/https?:\/\/(?:.+\.)?google\.[a-z]{2,3}(?:\.[a-z]{2})?(?:\:[0-9]+)?\/url.*[?&]url=([^&]+)/,isrcs_i=/https?:\/\/(?:.+\.)?google\.[a-z]{2,3}(?:\.[a-z]{2})?(?:\:[0-9]+)?\/url.*[?&]q=([^&]+)/,isrcs_j=/clk\(this.href,'.*','.*','.*','.*','.*','([^']+)'\)/,isrcs_k=/https?:\/\/(?:.+\.)?google\.[a-z]{2,3}(?:\.[a-z]{2})?(?:\:[0-9]+)?\/url\?(?:q|url)=.+&ved=([^&]+)/,
isrcs_l=function(b,c){var a=jQuery(b).find(".s").first().find(".ft");0==a.length&&(a=jQuery(b).find(".s").first().find(".nft"));a.each(function(b,a){var d;d=a.textContent.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"").replace(/\s+/g," ");var g=a.innerHTML;5<=d.length&&(0<c.tidbits.length||!(13>=d.length&&/\d{4}/.test(d)))&&(c.tidbits.push(d),c.htmlTidbits.push(g))})};var _gqs_processResults,isrcs_m=function(){var b;if(!(b=window.google?window.google.kEI:null))a:{var c=document;try{for(var a=c.getElementsByTagName("head")[0].getElementsByTagName("script"),c=0;c<a.length;c++){var e=a[c].text.match(isrcs_d);if(e){b=e[1];break a}}}catch(f){}b=null}(a=isrcs_g(b))&&0<a.length&&chrome.extension.connect({name:"search-results"}).postMessage({results:a});b={ei:b,ved:null};chrome.extension.connect({name:"log-event"}).postMessage({result:b,action:"query"})};isrcs_m();
jQuery(document.body).bind("DOMNodeInserted",function(b){(b=b.target)&&("DIV"==b.tagName&&"med"==b.className||"search"==b.id||"xjsd"==b.id)&&window.setTimeout(isrcs_m,0)});if(/https?:\/\/(?:.+\.)?google\.[a-z]{2,3}(?:\.[a-z]{2})?(?:\:[0-9]+)?\/(?:webhp.*)?$/.test(document.location.href)){var isrcs_n=jQuery('form[action="/search"]');1==isrcs_n.length&&isrcs_n.append('<input type="hidden" name="qscrl" value="1"/>')}; })();
