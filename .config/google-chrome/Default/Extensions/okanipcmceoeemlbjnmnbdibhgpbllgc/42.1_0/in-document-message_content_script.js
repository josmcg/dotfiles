(function(){ /*
 Copyright 2010 Google Inc.  All Rights Reserved.
 Your use of this software is subject to the Terms of Service located
 at https://chrome.google.com/extensions/intl/en/gallery_tos.html.
*/
var idmcs_a=/\s+|\S+/g;function idmcs_(c){return"url("+chrome.extension.getURL("images/"+c)+")"}function idmcs_b(c){c.css("background-image",idmcs_("close.png"));c.mouseover(function(){jQuery("body").hasClass("goog_qs-closed")||jQuery(this).css("background-image",idmcs_("close_on.png"))});c.mouseout(function(){jQuery("body").hasClass("goog_qs-closed")||jQuery(this).css("background-image",idmcs_("close.png"))})};function idmcs_c(){jQuery("#goog_qs_tidbit_box").toggle();var c=1==jQuery("#goog_qs_tidbit_box:hidden").length;chrome.extension.connect({name:"minimized-state"}).postMessage({minimized:c})}function idmcs_d(){var c=chrome.extension.getURL("about.html");chrome.extension.connect({name:"open-link"}).postMessage({url:c})}
chrome.extension.onRequest.addListener(function(c){if(c.text&&0==jQuery("#goog_qs_tidbit_box").length){var d=c.text,f=jQuery('<div id="goog_qs-box-toggle" />');idmcs_b(f);f.click(idmcs_c);var e=jQuery('<div id="goog_qs-box-info" class="goog_qs-box-title" />');e.css("background-image",idmcs_("icon16x16.png"));e.text(chrome.i18n.getMessage("qs_name"));var b=jQuery('<div id="goog_qs-box-msg" />');b.html(d);jQuery("<a>Learn more</a>");d=jQuery('<div id="goog_qs-box-tidbits" />');d.append(b);b=jQuery('<div id="goog_qs-wrapper" />');
b.append(f);b.append(e);b.append(d);f=jQuery('<div id="goog_qs_tidbit_box" style="display:none"/>');f.append(b);e=f.get(0);b=document.createTreeWalker(e,window.NodeFilter.SHOW_TEXT,null,!1);for(e=[];b.nextNode();)e.push(b.currentNode);for(b=0;b<e.length;b++){var d=e[b],h=d.data.match(idmcs_a);if(h){for(var k=d.parentNode,l=0;l<h.length;l++){var g=h[l],a;(a=2>g.length||20<g.length)||(a=g.charAt(0).charCodeAt(0),a=97<=a?122>=a?!1:128<=a?!1:!0:65<=a?90>=a?!1:!0:48<=a&&57>=a?!1:!0);a?k.insertBefore(document.createTextNode(g),
d):(a=jQuery('<span class="goog_qs-nowrap"/>').get(0),a.appendChild(document.createTextNode(g.charAt(0))),a.appendChild(document.createElement("img")),a.appendChild(document.createTextNode(g.substring(1))),k.insertBefore(a,d))}k.removeChild(d)}}jQuery("body").append(f);jQuery(".goog_qs-learn-more").click(idmcs_d)}c.toggle&&idmcs_c()}); })();
